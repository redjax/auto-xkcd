<!-- Javascript to handle searches from the navbar -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Function to navigate to /comics/<comic_num>
        function navigateToComic(comicNum) {
            window.location.href = '/comics/' + comicNum;
        }

        // Function to handle errors and redirect to /error
        function redirectToError(errorMessage) {
            window.location.href = '/error?message=' + encodeURIComponent(errorMessage);
        }

        // Add event listener for search button click
        document.getElementById('navSearchButton').addEventListener('click', function () {
            var comicNum = document.getElementById('navSearchNumInput').value.trim();
            if (comicNum !== '') {
                navigateToComic(comicNum);
            } else {
                redirectToError('Comic number cannot be empty');
            }
        });

        // Add event listener for form submission
        document.getElementById('navSearchForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form submission
            var comicNum = document.getElementById('navSearchNumInput').value.trim();
            if (comicNum !== '') {
                navigateToComic(comicNum);
            } else {
                redirectToError('Comic number cannot be empty');
            }
        });

        // Add event listener for Enter key press in the search input field
        document.getElementById('navSearchNumInput').addEventListener('keypress', function (event) {
            if (event.key === 'Enter') {
                var comicNum = document.getElementById('navSearchNumInput').value.trim();
                if (comicNum !== '') {
                    navigateToComic(comicNum);
                } else {
                    redirectToError('Comic number cannot be empty');
                }
            }
        });
    });
</script>